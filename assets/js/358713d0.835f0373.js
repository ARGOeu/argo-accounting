"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4223],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>y});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},l=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),d=s(n),y=r,f=d["".concat(c,".").concat(y)]||d[y]||u[y]||a;return n?i.createElement(f,o(o({ref:t},l),{},{components:n})):i.createElement(f,o({ref:t},l))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=d;var p={};for(var c in t)hasOwnProperty.call(t,c)&&(p[c]=t[c]);p.originalType=e,p.mdxType="string"==typeof e?e:r,o[1]=p;for(var s=2;s<a;s++)o[s]=n[s];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3666:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>p,toc:()=>s});var i=n(7462),r=(n(7294),n(3905));const a={id:"unit_type",title:"Unit Type",sidebar_position:8},o=void 0,p={unversionedId:"api/unit_type",id:"api/unit_type",title:"Unit Type",description:"A Unit Type expresses and measures physical quantities used in various infrastructures, service providers, and projects. It is used to describe a class or group of Units based on a single characteristic.",source:"@site/docs/api/unit_type.md",sourceDirName:"api",slug:"/api/unit_type",permalink:"/argo-accounting/docs/api/unit_type",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{id:"unit_type",title:"Unit Type",sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Metric Type",permalink:"/argo-accounting/docs/api/metric_type"},next:{title:"Collecting Metrics from different levels",permalink:"/argo-accounting/docs/api/collect_metrics"}},c={},s=[{value:"POST - Create a Unit Type",id:"post---create-a-unit-type",level:3},{value:"GET - Fetch a Unit Type",id:"get---fetch-a-unit-type",level:3},{value:"PATCH - Update a Unit Type",id:"patch---update-a-unit-type",level:3},{value:"DELETE  - Delete a Unit Type",id:"delete----delete-a-unit-type",level:3},{value:"GET  - Fetch all the Unit Types",id:"get----fetch-all-the-unit-types",level:3},{value:"Errors",id:"errors",level:3}],l={toc:s};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,i.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"A Unit Type expresses and measures physical quantities used in various infrastructures, service providers, and projects. It is used to describe a class or group of Units based on a single characteristic.\nOnce a Unit Type is generated, it can be used as an attribute of a ",(0,r.kt)("a",{parentName:"p",href:"/argo-accounting/docs/api/metric_definition"},"Metric Definition"),"."),(0,r.kt)("p",null,"The client can interact through several operations with the API in order to create, update, delete or fetch a Unit Type. The aforementioned operations are described below."),(0,r.kt)("p",null,"The Unit Type can be expressed by the following structure:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"id"),(0,r.kt)("td",{parentName:"tr",align:null},"A unique identifier")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"unit_type"),(0,r.kt)("td",{parentName:"tr",align:null},"The Unit Type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"description"),(0,r.kt)("td",{parentName:"tr",align:null},"Short Description of a Unit Type")))),(0,r.kt)("h3",{id:"post---create-a-unit-type"},"[POST]"," - Create a Unit Type"),(0,r.kt)("p",null,"The client can submit a new Unit Type by executing the following POST request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'POST /accounting-system/unit-types\n\nContent-type: application/json\nAuthorization: Bearer {token}\n\n{\n    "unit_type" : "number_of_users",\n    "description" : "Number of users"\n}\n')),(0,r.kt)("p",null,"Upon inserting the record into the database, the API returns the stored Unit Type :"),(0,r.kt)("p",null,"Success Response ",(0,r.kt)("inlineCode",{parentName:"p"},"201 CREATED")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    "id": "63cfa31aca73200e5a7707b6",\n    "unit_type": "number_of_users",\n    "description": "Number of users",\n    "creator_id": "115143399384cc3177df5377691ccdbb284cb245fad1c@aai.eosc-portal.eu"\n}\n')),(0,r.kt)("p",null,"The response also contains the id generated by the database and the creator_id, which is the client's voperson_id."),(0,r.kt)("h3",{id:"get---fetch-a-unit-type"},"[GET]"," - Fetch a Unit Type"),(0,r.kt)("p",null,"The client should be able to fetch an existing Unit Type. By passing the Unit Type ID, the client can request the corresponding Unit Type by executing the following request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"GET /accounting-system/unit-types/{unit_type_id}\n\nAuthorization: Bearer {token}\n")),(0,r.kt)("p",null,"The response returned to the client is the following:"),(0,r.kt)("p",null,"Success Response ",(0,r.kt)("inlineCode",{parentName:"p"},"200 OK")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    "id": "63cfa31aca73200e5a7707b6",\n    "unit_type": "number_of_users",\n    "description": "Number of users",\n    "creator_id": "115143399384cc3177df5377691ccdbb284cb245fad1c@aai.eosc-portal.eu"\n}\n')),(0,r.kt)("h3",{id:"patch---update-a-unit-type"},"[PATCH]"," - Update a Unit Type"),(0,r.kt)("p",null,"You can update a part or all attributes of an existing Unit Type using the following PATCH request. The empty or null values are ignored."),(0,r.kt)("p",null,"You cannot update a Unit Type registered by Accounting Service or a Unit Type used in an existing Metric Definition."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'PATCH /accounting-system/unit-types/{unit_type_id}\n\nContent-type: application/json\nAuthorization: Bearer {token}\n\n\n{\n    "unit_type" : "unit_type_to_be_updated",\n    "description" : "description_to_be_updated"\n}\n')),(0,r.kt)("p",null,"The response will be the updated entity :"),(0,r.kt)("p",null,"Success Response ",(0,r.kt)("inlineCode",{parentName:"p"},"200 OK")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    "id": "63cfa31aca73200e5a7707b6",\n    "unit_type": "updated_unit_type",\n    "description": "updated_description",\n    "creator_id": "115143399384cc3177df5377691ccdbb284cb245fad1c@aai.eosc-portal.eu"\n}\n')),(0,r.kt)("p",null,"To update the properties of an actual Unit Type, the body of the request must contain an updated representation of it. For example, to edit the unit type, send the following request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'PATCH /accounting-system/unit-types/{unit_type_id}\n\nContent-type: application/json\nAuthorization: Bearer {token}\n\n{  \n    "unit_type": "unit_type_to_be_updated"\n}\n')),(0,r.kt)("h3",{id:"delete----delete-a-unit-type"},"[DELETE]","  - Delete a Unit Type"),(0,r.kt)("p",null,"A Unit Type can be deleted by executing the following request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"DELETE /accounting-system/unit-types/{unit_type_id}\n\nAuthorization: Bearer {token}\n")),(0,r.kt)("p",null,"If the operation is successful, you get the following response:"),(0,r.kt)("p",null,"Success Response ",(0,r.kt)("inlineCode",{parentName:"p"},"200 OK")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    "code": 200,\n    "message": "The Unit Type has been deleted successfully."\n}\n')),(0,r.kt)("p",null,"You cannot delete a Unit Type registered by Accounting Service or a Unit Type used in an existing Metric Definition."),(0,r.kt)("h3",{id:"get----fetch-all-the-unit-types"},"[GET]","  - Fetch all the Unit Types"),(0,r.kt)("p",null,"You can also fetch all the Unit Types that exist to the accounting system."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"GET /accounting-system/unit-types\n\nAuthorization: Bearer {token}\n")),(0,r.kt)("p",null,"If the operation is successful, you get the following response:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    "size_of_page": 10,\n    "number_of_page": 1,\n    "total_elements": 11,\n    "total_pages": 2,\n    "content": [\n        {\n            "id": "63cfd515f5c3c21ba78ca3a1",\n            "unit_type": "TB",\n            "description": "terabyte",\n            "creator_id": ""\n        },\n        {\n            "id": "63cfd515f5c3c21ba78ca3a2",\n            "unit_type": "TB/year",\n            "description": "terabyte per year",\n            "creator_id": ""\n        },\n        {\n            "id": "63cfd515f5c3c21ba78ca3a3",\n            "unit_type": "Endpoints Monitored/hour",\n            "description": "Endpoints Monitored per hour",\n            "creator_id": ""\n        },\n        {\n            "id": "63cfd515f5c3c21ba78ca3a4",\n            "unit_type": "Messages/hour",\n            "description": "Messages per hour",\n            "creator_id": ""\n        },\n        {\n            "id": "63cfd515f5c3c21ba78ca3a5",\n            "unit_type": "Service Updates",\n            "description": "Service Updates",\n            "creator_id": ""\n        },\n        {\n            "id": "63cfd515f5c3c21ba78ca3a6",\n            "unit_type": "#",\n            "description": "number of",\n            "creator_id": ""\n        },\n        {\n            "id": "63cfd515f5c3c21ba78ca3a7",\n            "unit_type": "count",\n            "description": "count of",\n            "creator_id": ""\n        },\n        {\n            "id": "63cfd515f5c3c21ba78ca3a8",\n            "unit_type": "API reqs",\n            "description": "API requests",\n            "creator_id": ""\n        },\n        {\n            "id": "63cfd515f5c3c21ba78ca3a9",\n            "unit_type": "PID prefixes",\n            "description": "PID prefixes",\n            "creator_id": ""\n        },\n        {\n            "id": "63cfd515f5c3c21ba78ca3aa",\n            "unit_type": "CPU Time",\n            "description": "the exact amount of time that the CPU has spent processing data",\n            "creator_id": ""\n        }\n    ],\n    "links": [\n        {\n            "href": "http://localhost:8080/accounting-system/unit-types?page=1&size=10",\n            "rel": "first"\n        },\n        {\n            "href": "http://localhost:8080/accounting-system/unit-types?page=2&size=10",\n            "rel": "last"\n        },\n        {\n            "href": "http://localhost:8080/accounting-system/unit-types?page=1&size=10",\n            "rel": "self"\n        },\n        {\n            "href": "http://localhost:8080/accounting-system/unit-types?page=2&size=10",\n            "rel": "next"\n        }\n    ]\n}\n')),(0,r.kt)("p",null,"The Unit Types, which have empty creator_id, have been generated by Accounting Service. The Unit Types created by a client contains their voperson_id."),(0,r.kt)("h3",{id:"errors"},"Errors"),(0,r.kt)("p",null,"Please refer to section ",(0,r.kt)("a",{parentName:"p",href:"./api_errors"},"Errors")," to see all possible Errors."))}u.isMDXComponent=!0}}]);