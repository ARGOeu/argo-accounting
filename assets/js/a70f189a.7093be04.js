"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[388],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(r),h=a,f=u["".concat(s,".").concat(h)]||u[h]||d[h]||i;return r?n.createElement(f,l(l({ref:t},p),{},{components:r})):n.createElement(f,l({ref:t},p))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,l=new Array(i);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=r[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},3656:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var n=r(7462),a=(r(7294),r(3905));const i={id:"search-filter",title:"Syntax a search filter",sidebar_position:1},l=void 0,o={unversionedId:"guides/search-filter",id:"guides/search-filter",title:"Syntax a search filter",description:"Syntax a search filter",source:"@site/docs/guides/search_filter.md",sourceDirName:"guides",slug:"/guides/search-filter",permalink:"/argo-accounting/docs/guides/search-filter",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"search-filter",title:"Syntax a search filter",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Guides",permalink:"/argo-accounting/docs/category/guides"}},s={},c=[{value:"Syntax a search filter",id:"syntax-a-search-filter",level:3},{value:"1.  Search on a field",id:"1--search-on-a-field",level:3},{value:"Example 1: Search on a collection&#39;s field",id:"example-1-search-on-a-collections-field",level:3},{value:"1.  Search on multiple fields",id:"1--search-on-multiple-fields",level:3},{value:"Example 2: Search on a 2 collection&#39;s fields",id:"example-2-search-on-a-2-collections-fields",level:3},{value:"Example 2: Search on a multiple collection&#39;s fields",id:"example-2-search-on-a-multiple-collections-fields",level:3}],p={toc:c};function d(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"syntax-a-search-filter"},"Syntax a search filter"),(0,a.kt)("p",null,"You can apply a search operation on the projects, providers, installations, metrics, metric definitions, existing on the accounting system . You can search on a specific field or on a combination of fields of the collection . In order to apply a search request, you need to provide the search criteria on the fields, and the operatio will retrieve the results that match them"),(0,a.kt)("h3",{id:"1--search-on-a-field"},"1.  Search on a field"),(0,a.kt)("p",null,"The simplest search that can be performed is on a field of the collection . You need to syntax a search query, in a json format, and provide it as body in the search request.\nThe fields that need to be defined , in order the syntax to be valid are: "),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Field"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"type"),(0,a.kt)("td",{parentName:"tr",align:null},"The type of the search . In the case the search is a combination of fields of the collection ,  it\u2019s value is \u2018query\u2019")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"field"),(0,a.kt)("td",{parentName:"tr",align:null},"The field of the collection on which we search")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"value"),(0,a.kt)("td",{parentName:"tr",align:null},"The value of the equation , and it can be of any type depending on the type of the field we search")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"operand"),(0,a.kt)("td",{parentName:"tr",align:null},"The equation we want to apply on the field in order to search results. it\u2019s value can be {eq, neq, lt, lte, gt, gte}")))),(0,a.kt)("p",null," type\nThe type of the search and it\u2019s value is \u2018filter\u2019\noperator\nThe operation on which the elements in the criteria will be combined. it\u2019s values is AND or OR\ncriteria\nThe specific subqueries that will be matched by the operator. criteria is an array of objects of \u2018query\u2019 or \u2018filter\u2019 type"),(0,a.kt)("p",null,"The syntax should be as: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n  "type":string,\n  "operator": string ,\n  criteria:array of \u2018query\u2019 or \u2018filter\u2019 elements\n}\n\n\n')),(0,a.kt)("h3",{id:"example-1-search-on-a-collections-field"},"Example 1: Search on a collection's field"),(0,a.kt)("p",null,"You search for metrics , that the start period is after 01-01-2022. The syntax of the query should be : "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'\n{\n  "type":"query",\n  "field": "time_period_start" ,\n  "values":"2022-01-01T00:00:00Z",\n  "operand": "gt"  \n}\n\n')),(0,a.kt)("h3",{id:"1--search-on-multiple-fields"},"1.  Search on multiple fields"),(0,a.kt)("p",null,"A more complex search can be performed, combining 2 or more fields of the collection . You need to syntax a search filter, in a json format, and provide it as body in the search request.\nThe fields that need to be defined , in order the syntax to be valid are: "),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Field"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"type"),(0,a.kt)("td",{parentName:"tr",align:null},"The type of the search . In the case the search is on 2 or more fields of the collection ,  it\u2019s value is \u2018filter\u2019")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"operator"),(0,a.kt)("td",{parentName:"tr",align:null},"The operation on which the elements in the criteria will be combined. it\u2019s values is AND or OR")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"criteria"),(0,a.kt)("td",{parentName:"tr",align:null},"The specific subqueries that will be matched by the operator. Criteria is an array of objects of \u2018query\u2019 or \u2018filter\u2019 type")))),(0,a.kt)("p",null,"The syntax should be as:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n  "type":string,\n  "operator": string ,\n  criteria:array of \u2018query\u2019 or \u2018filter\u2019 elements\n}\n\n')),(0,a.kt)("h3",{id:"example-2-search-on-a-2-collections-fields"},"Example 2: Search on a 2 collection's fields"),(0,a.kt)("p",null,"You search for metrics , that the start period is after 01-01-2022 AND the end period if before 01-02-2022. The syntax of the filter should be : "),(0,a.kt)("p",null,"At first 2 subqueries should be created to define the criterio on each field. "),(0,a.kt)("p",null,"Query on start period:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'\n{\n  "type":"query",\n  "field": "time_period_start" ,\n  "values":"2022-01-01T00:00:00Z",\n  "operand": "gt"  \n}\n\n')),(0,a.kt)("p",null,"Query on end period: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'\n{\n  "type":"query",\n  "field": "time_period_end" ,\n  "values":"2022-01-02T00:00:00Z",\n  "operand": "lt"  \n}\n\n')),(0,a.kt)("p",null,"Now these two queries should be combined in a filter as: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'\n{\n  "type": "filter",\n  "operator": "AND",\n  "criteria": [\n  {\n  "type":"query",\n  "field": "time_period_start" ,\n  "values":"2022-01-01T00:00:00Z",\n  "operand": "gt"  \n},\n\n{\n  "type":"query",\n  "field": "time_period_end" ,\n  "values":"2022-01-02T00:00:00Z",\n  "operand": "lt"  \n}\n]\n}\n\n')),(0,a.kt)("h3",{id:"example-2-search-on-a-multiple-collections-fields"},"Example 2: Search on a multiple collection's fields"),(0,a.kt)("p",null,"You search for metrics , that  start period is after 01-01-2022 and the end period if before 01-02-2022,  OR the value is greater than 1000. The syntax of the filter should be  as : "),(0,a.kt)("p",null,"The filter to search for   start period is after 01-01-2022 and the end period if before 01-02-2022, if defined as in the Example 2.\nThe query to search for value greater than 1000 is defined as :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n  "type":"query",\n  "field": "value" ,\n  "values":"1000.0",\n  "operand": "gt"  \n}\n')),(0,a.kt)("p",null,"So now we need to combine these search criteria in a filter as: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'\n{\n  "type": "filter",\n  "operator": "OR",\n  "criteria": [\n {\n  "type":"query",\n  "field": "value" ,\n  "values":"1000.0",\n  "operand": "gt"  \n},\n\n{\n  "type": "filter",\n  "operator": "AND",\n  "criteria": [\n  {\n  "type":"query",\n  "field": "time_period_start" ,\n  "values":"2022-01-01T00:00:00Z",\n  "operand": "gt"  \n},\n\n{\n  "type":"query",\n  "field": "time_period_end" ,\n  "values":"2022-01-02T00:00:00Z",\n  "operand": "lt"  \n}\n]\n}\n\n]\n}\n\n')))}d.isMDXComponent=!0}}]);